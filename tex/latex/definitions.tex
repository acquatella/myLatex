%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SPACE MATH 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% S/C Dynamics - rotation matrix and its derivative
\newcommand{\Rx}{\mathbf{R}}										
\newcommand{\Rxdot}{\dot{\Rx}}	

% S/C Dynamics - angular momentum and its derivative
\newcommand{\Hx}{\mathbf{H}}													
\newcommand{\Hxdot}{\dot{\Hx}}												

% S/C Dynamics - angular velocity and its derivative
\newcommand{\omegax}{\pmb{\omega}}	
\newcommand{\omegaxdot}{\dot{\omegax}}

% RW Dynamics - angular momentum and its derivative
\newcommand{\hx}{\mathbf{h}}	
\newcommand{\hxdot}{\dot{\hx}}												

% RW_i Dynamics - angular momentum and its derivative
\newcommand{\hw}[1]{\ensuremath{\hx_{#1}}}						
\newcommand{\hwdot}[1]{\ensuremath{\hxdot_{#1}}}			

% RW Dynamics - angular velocity (omega_w + A^T omega) and its derivative
\newcommand{\Omegax}{\pmb{\Omega}}										
\newcommand{\Omegaxdot}{\dot{\Omegax}}								

% RW_i Dynamics - angular velocity and its derivative
\newcommand{\omegaw}[1]{\ensuremath{\Omega_{#1}}}
\newcommand{\omegawdot}[1]{\ensuremath{\dot{\Omega}_{#1}}}
\newcommand{\omegawddot}[1]{\ensuremath{\ddot{\Omega}_{#1}}}

% RW_i Dynamics - angular velocity measure and estimate
\newcommand{\omegawt}[1]{\ensuremath{\tilde{\Omega}_{#1}}}
\newcommand{\omegawh}[1]{\ensuremath{\hat{\Omega}_{#1}}}

% RW Kinematics - angle and its derivative
\newcommand{\Phix}{\pmb{\Phi}}										
\newcommand{\Phixdot}{\dot{\Phix}}								

% RW_i Kinematics - angle and its derivative
\newcommand{\phiw}[1]{\ensuremath{\Phi_{#1}}}
\newcommand{\phiwdot}[1]{\ensuremath{\dot{\Phi}_{#1}}}

% RW_i Dynamics - angle error and estimate
\newcommand{\phiwt}[1]{\ensuremath{\tilde{\Phi}_{#1}}}
\newcommand{\phiwh}[1]{\ensuremath{\hat{\Phi}_{#1}}}

% Attitude Dynamics - quaternion vector and quaternion element
\newcommand{\q}{\mathbf{q}}														
\newcommand{\qs}{\mathrm{q}}													

% Mechanical params - inertias
\newcommand{\Ix}{\mathbf{I}}
\newcommand{\Jx}{\mathbf{J}}
\newcommand{\Iw}[1]{\ensuremath{\Ix_{#1}}}
\newcommand{\Iwt}[1]{\ensuremath{\tilde{\Ix}_{#1}}}
\newcommand{\Iwh}[1]{\ensuremath{\hat{\Ix}_{#1}}}
\newcommand{\Jw}[1]{\ensuremath{\Jx_{#1}}}
\newcommand{\gammax}{\boldsymbol{\Gamma}}

% Transformations - the RW spin-axis allocation matrix and its elements
\newcommand{\A}{\mathbf{A}}
\newcommand{\ai}{\mathbf{a}_i}
\newcommand{\aw}[1]{\ensuremath{\mathbf{a}_{#1}}}
 
% Inputs - the S/C torque input and the RW torque input
\newcommand{\taux}{\boldsymbol{\tau}}
\newcommand{\tauw}[1]{\ensuremath{\tau_{#1}}} %should be tauw_{} but gives an error

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ROBOTICS MATH 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Joint coordinates 
\newcommand{\qr}{\boldsymbol{q}}		

% Cartesian coordinates / state vector
\newcommand{\xr}{\boldsymbol{x}}	

% Cartesian coordinates / input vector
\newcommand{\ur}{\boldsymbol{u}}

% Cartesian coordinates / output vector
\newcommand{\yr}{\boldsymbol{y}}	

% Relationship btw joint and cartesian space
\newcommand{\fr}{\boldsymbol{f}}											

% Link sided inertia matrix 
\newcommand{\Mr}{\boldsymbol{M}}

% Stiffness matrix
\newcommand{\Kr}{\boldsymbol{K}}

% Stiffness matrix
\newcommand{\Br}{\boldsymbol{B}}

% Coriolis/centrifugal matrix with respect to M(q) 
\newcommand{\Cr}{\boldsymbol{C}}

% Damping matrix of the joint 
\newcommand{\Dr}{\boldsymbol{D}}

% Vector of gravity torques
\newcommand{\gr}{\boldsymbol{g}}

% output vector
\newcommand{\hr}{\boldsymbol{h}}

% Jacobian matrix
\newcommand{\Jr}{\boldsymbol{J}}

\newcommand{\Fr}{\boldsymbol{F}}

\newcommand{\Gr}{\boldsymbol{G}}

\newcommand{\Ar}{\boldsymbol{A}}

\newcommand{\Lambdar}{\boldsymbol{\Lambda}}
\newcommand{\mur}{\boldsymbol{\mu}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% STATE SPACE MATH
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Generic non-autonomous nonlinear system 
\newcommand{\nonlin}{\ensuremath{\dot{\x} = \f(\x, t)}}

% Generic autonomous nonlinear system 
\newcommand{\auto}{\ensuremath{\dot{\x} = \f(\x)}}

% State vector - in R^n and in R, and its derivative
\newcommand{\x}{\mathbf{x}}  								
\newcommand{\xs}{x}
\newcommand{\xdot}{\dot{\x}}

% State observer vector - in R^n and in R, and its derivative
\newcommand{\xobs}{\hat{\x}}  								
\newcommand{\xsobs}{\hat{x}}
\newcommand{\xobsdot}{\dot{\xobs}}

% State measurement vector - in R^n and in R, and its derivative
\newcommand{\xmeas}{\bar{\x}}  								
\newcommand{\xsmeas}{\bar{x}}
\newcommand{\xmeasdot}{\dot{\xmeas}}

% State vector normal coordinate change - in R^n and in R, its derivative, etc.
\newcommand{\z}{\mathbf{z}}  								
\newcommand{\zs}{z}
\newcommand{\zdot}{\dot{\z}}
\newcommand{\Thetax}{\boldsymbol{\mathbf{\Theta}}}

% Dynamics - continuous time, nonlinear, etc.
\newcommand{\e}{\mathbf{e}}
\newcommand{\f}{\mathbf{f}}
\newcommand{\F}{\mathbf{F}}
\newcommand{\g}{\mathbf{g}}
\newcommand{\G}{\mathbf{G}}
\newcommand{\Gs}{\mathit{G}}
\newcommand{\h}{\mathbf{h}}	

% Input vector - in R^n and in R
\newcommand{\ux}{\mathbf{u}}
\newcommand{\us}{u}

% Output vector - in R^n and in R, and its derivative
\newcommand{\y}{\mathbf{y}}
\newcommand{\ys}{y}
\newcommand{\ydot}{\dot{\y}}

% Output observer vector - in R^n and in R, and its derivative
\newcommand{\yobs}{\hat{\y}}  								
\newcommand{\ysobs}{\hat{y}}
\newcommand{\yobsdot}{\dot{\yobs}}

% Metric matrix - 
\newcommand{\M}{\mathbf{M}}
\newcommand{\metric}{\M(\x,t)}

% Disturbance - 
\newcommand{\dx}{\mathbf{d}}

% old stuff

\newcommand{\Fx}{\mathbf{F}}
\newcommand{\Gx}{\mathbf{G}}
\newcommand{\Tx}{\mathbf{T}}

\newcommand{\px}{\mathbf{p}}
\newcommand{\Qx}{\mathbf{Q}}

\newcommand{\nux}{\boldsymbol{\nu}}

\newcommand{\N}{\boldsymbol{N}}
\newcommand{\K}{\mathbf{K}}

\newcommand{\xx}{\mathit{x}}
\newcommand{\yy}{\mathit{y}}
\newcommand{\zz}{\mathit{z}}

\newcommand{\pp}{\mathit{p}}
\newcommand{\qq}{\mathit{q}}
\newcommand{\rr}{\mathit{r}}

\newcommand{\deltax}{\boldsymbol{\delta}}
\newcommand{\B}{\mathbf{B}}
\newcommand{\Ds}{\mathbf{D}}

\newcommand{\rx}{\mathit{R}}
\newcommand{\vx}{\mathit{v}}

\newcommand{\vxx}{\vx_{\xx}}
\newcommand{\vyy}{\vx_{\yy}}
\newcommand{\vzz}{\vx_{\zz}}

\newcommand{\omegae}{\omegax_E} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OTHER Accepted aditions 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Math symbols - laplace
\newcommand{\lap}{\mathcal{L}}
\newcommand{\lapinv}{\lap^{-1}}

% Math symbols - differential
\newcommand{\dif}{\mathrm{d}}

% Math symbols - time derivative
\newcommand{\der}{\frac{\dif}{\dif t}}

% Math symbols - complex derivative
\newcommand{\ders}{\frac{\dif}{\dif s}}
\newcommand{\dders}{\frac{\dif^2}{\dif s^2}}

% Math symbols - transpose (choose btw \top or \intercal)
\newcommand{\transpose}{\ensuremath{^{\intercal}}} 

% Math symbols - inverse
\newcommand{\inv}{\ensuremath{^{-1}}} 

% Math symbols - Identity matrix (bugs when no argument is given)
\newcommand{\iden}{\ensuremath{\boldsymbol{I}}}
\newcommand{\Iden}[1]{\ensuremath{\mathcal{I}_{#1}}}

% Math symbols - Null matrix (bugs when no argument is given)
\newcommand{\zero}{\ensuremath{\boldsymbol{0}}}
\newcommand{\Zero}[1]{\ensuremath{\textbf{0}_{#1}}}

% Math symbols - Set of Real numbers
\newcommand{\real}{\mathcal{R}}
\newcommand{\reals}[1]{\real^{#1}}

% Math symbols - Set of Real circles and spheres
\newcommand{\spher}{\mathcal{S}}
\newcommand{\sphere}[1]{\spher^{#1}}

% Math symbols - Set of the special orthogonal group
\newcommand{\ortho}{\mathcal{SO}(3)}

% Math symbols - Lie algebra of SO(3)
\newcommand{\ortholie}{\mathfrak{so}(3)}

% Math symbols - The tangent bundle of SO(3)
\newcommand{\orthotan}{\mathcal{TSO}(3)}

% Math symbols - The cotangent bundle of SO(3)
\newcommand{\orthocot}{\mathcal{T*SO}(3)}

% old stuff

% MATLAB in small caps
\newcommand{\matlab}{\textsc{Matlab}}

% Others
\newcommand{\vect}[1]{\ensuremath{\boldsymbol{#1}}}
\newcommand{\tth}{\ensuremath{^{\text{th}}}}
\newcommand{\nth}{^{(n)}}
\newcommand{\ie}{\textsl{i.e.}}
\newcommand{\ies}{\text{i.e.~}}
\newcommand{\Idenold}{\mathrm{I}_{3\times3}}
\newcommand{\IDEN}{\mathrm{I}_{6\times6}}
\newcommand{\Zerosold}{0_{3\times3}}
\newcommand{\rad}{\ensuremath{\text{rad}}}

% Math symbols temp
\newcommand{\me}{\mathrm{e}}
\newcommand{\mi}{\mathrm{i}}

\newcommand{\half}{\frac{1}{2}}
\newcommand{\quarter}{\frac{1}{4}}

\newcommand{\Lie}[1]{\ensuremath{L_{#1}}}
\newcommand{\expo}{\mathrm{e}}							

% the Ball(r) domain, a ball of size r around the origin.
\newcommand{\Ball}{\mathcal{B}}

% the D domain, an open region containing the origin								
\newcommand{\Dd}{\mathcal{D}}

% the skew symmetric matrix (this one or Sx)								
\newcommand{\Sk}[1]{\ensuremath{\left[{#1}\times\right]}}	

% test zzz	